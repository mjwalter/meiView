<!DOCTYPE HTML>
<!--
	Miniport 2.0 by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>meiView - MEI score viewer</title>
		<link href="js/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
		<link rel="stylesheet" href="js/jquery-ui-1.10.3.custom/css/pepper-grinder/jquery-ui-1.10.3.custom.css" />
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,600,700" rel="stylesheet" />
		<script src="js/jquery.min.js"></script>
		<script src="js/config.js"></script>
		<script src="js/skel.min.js"></script>
		<!-- <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" /> -->
		<script type="text/JavaScript" src="js/Fabric-all.js"></script>
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<!-- <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script> -->
		<script src="js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.js"></script>
		<!-- <script type="text/JavaScript" src="support/jquery-1.7.1.min.js"></script> -->
		<script type="text/JavaScript" src="js/jquery.ba-bbq.min.js"></script>
		<script type="text/JavaScript" src="js/vexflow-min.js"></script>
		<script type="text/JavaScript" src="js/meitovexflow-min.js"></script>
		<script type="text/JavaScript" src="js/loadXMLDoc.js"></script>
		<script type="text/JavaScript" src="js/meiview.js"></script>
		<script type="text/JavaScript" src="js/meiview-ui.js"></script>

		<noscript>
			<link rel="stylesheet" href="css/skel-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><link rel="stylesheet" href="css/ie8.css" /><![endif]-->
		<!--[if lte IE 7]><link rel="stylesheet" href="css/ie7.css" /><![endif]-->
		<script type="application/javascript" language="javascript">


			// meiView.test = function() {
			// }
			
			$(document).ready( function(){
				$('#sidebar').position({
					my: 'left top',
					at: 'right+10 top',
					of: $('#scorediv'),
					collision: 'none'
				})

				// hack to fix top align problem
				var sH = $('#scorediv').height();
				var H = Number(sH)
				$('#sidebar').css('top', -1*H-20);
			
				var titleElem = $('span.title')[0];
				$(titleElem).html('Henricus Isaac: Rogamus te piissima virgo Maria');
			
				var xmlDoc = loadXMLDoc('xml/Rogamus.xml');
			
				meiView.MEI = new MeiLib.VariantMei(xmlDoc);
				console.log(meiView.MEI.APPs);
				meiView.Sources = meiView.createSourceList(meiView.MEI.APPs);
			
				meiView.UI.fillSideBar($('#accordion'), meiView.Sources, 'meiview-sidebar');
				$('#accordion').accordion({
					collapsible: true,
					heightStyle: "content",
					active: false
				});
			
				meiView.currentScore = new MeiLib.SingleVariantPathScore(meiView.MEI);
				console.log(JSON.stringify(meiView.currentScore.variantPath))
			
				meiView.pages.AddPage(1, 12);
				meiView.pages.AddPage(13, 24);  
				meiView.pages.AddPage(25, 36);  
				meiView.pages.AddPage(37, 48);  
				meiView.appReplacements = {};
				meiView.UI.fabrCanvas = meiView.UI.initCanvas('maincanvas');
			
				frag_pg = $.bbq.getState('pg');
				if (frag_pg != undefined) {
					meiView.jumpTo(frag_pg-1);
				}
				else meiView.nextPage();
				meiView.UI.initSidebarHighlight();
			})
		</script>
	</head>
	<body>

		<!-- Nav -->
			<nav id="nav">
				<div class="container">
					<div class="row">
						<div class="2u"><div class="logo"><a href="#top" class="logo" >meiView</a></div></div>
						<div class="10u">
							<ul class="container">
								<li><a href="#top">Introduction</a></li>
								<li><a href="#score">Score</a></li>
								<li><a href="#how">How it's done</a></li>
								<li><a href="#contact">Contact</a></li>
							</ul>
						</div>
					</div>
				</div>
			</nav>

		<!-- Home -->
			<div class="wrapper wrapper-style2 wrapper-first">
				<article class="container info" id="top">
					<div class="container">
						<div class="row">
						<div class="8u">
							<p>Historical musical pieces make their way to us through multiple documents and it often 
								happens that multiple sources introduce differences and variants in the music. </p>

							<p><strong><a href="#score" class="jumplink">meiView</a></strong> is an experimental web 
								application designed to display 15–16th century music and provide a dynamic mechanism 
								for the user to select which variant they want to see.</p>

							<p>The application currently is in a demonstration phase, displaying a fragment of a 
								choral piece by the late 15th-century Franco-Flemish composer Henricus Isaac 
								(edited by David Lee). The purpose of this demonstration is to showcase one possible 
								mechanism for critical editions in a digital and dynamic environment.</p>
							<h4>User Guide</h4>
							<p>Click on the green dots to see the differences between the sources! In the sidebar you 
								can see the highlighted sources and variants you have selected. When you select a variant, 
								the score automatically updates so that the selected variant is included.</p>

							<div class="center"><a href="#score" class="button">Show me the score</a></div>
						</div>
						</div>
					</div>
				</article>
			</div>

		<!-- Score -->
			<div class="wrapper wrapper-style3">
				<article id="score">
					<div class="container">
						<div class="row">
							<div class="12u">
								<div id="maindiv" style="margin: 10px 20px auto">
									<div id="scorediv" align="center" class="ui-widget-content">
										<button class="ui-widget-content ui-corner-all"onclick="meiView.prevPage()"><span class="ui-icon ui-icon-triangle-1-w"/></button>
										<span id="pageNumber-top" width="10">0/0</span>
										<button class="ui-widget-content ui-corner-all" onclick="meiView.nextPage()"><span class="ui-icon ui-icon-triangle-1-e"/></button>
										<div id='titlediv'><h4><span id='title' class='title' property='dc:title'></span></h4></div>
										<canvas class="canvas" id="maincanvas" width="780" height="700"></canvas>
										<button class="ui-widget-content ui-corner-all"onclick="meiView.prevPage()"><span class="ui-icon ui-icon-triangle-1-w"/></button>
										<span id="pageNumber-bottom" width="10">0/0</span>
										<button class="ui-widget-content ui-corner-all" onclick="meiView.nextPage()"><span class="ui-icon ui-icon-triangle-1-e"/></button>
									</div>
									<div id="sidebar">
										<div id="accordion"> 
										</div>
										<div id="legend" >
											<p>
												<ul>
													<li><h5>Click on the green dots to view the differences between the sources!</h5></li>
													<li class=".meiview-source-has-variant-on">
														When a  <text style="color: rgb(190,0,0)">Source is highlighted</text> it means some of its 
														variants are currently displayed in the score.
													</li>
													<li>
														When a <text style="color: rgb(185,0,0);">Variant is highlighted</text> it means that variant is currently 
														displayed in the score.
													</li>
												</ul>
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</article>
			</div>

			<!-- More Info -->
				<div class="wrapper wrapper-style2 wrapper-info">
					<article class="container info" id="how">
						<div class="container">
							<div class="row">
							<div class="8u">
								<h4>How it's done</h4>

								<p>The software is written entirely in JavaScript and based on two open source projects, MEI-to-VexFlow and VexFlow.</p>

								<p><a target="_blank" href="https://github.com/TEI-Music-SIG/MEItoVexFlow">MEI-to-VexFlow</a> is a 
									JavaScript library which provides a function for converting <a href="http://music-encoding.org/">MEI</a>-encoded 
									music notation into drawing instructions for the <a href="http://vexflow.com/">VexFlow</a> music 
									notation rendering library. VexFlow is a JavaScript library to render music notation in HTML5.</p>

								<p>The <a href="http://music-encoding.org/">Music Encoding Initiative</a> (MEI) is a community-driven 
									effort to create a commonly-accepted, digital, symbolic representation of music notation documents.</p>

								<p>For more details about the recent development in MEI-to-VexFlow visit the following blog posts 
									at the Maryland Institute for Technologies in the Humanities:
								<ul>
									<li><a target="_blank" href="http://mith.umd.edu/mei-to-vexflow/">MEI-to-VexFlow project kick-off</a></li>
									<li><a target="_blank" href="http://mith.umd.edu/improving-mei-to-vexflow/">Mid-term report</a></li>
									<li><a target="_blank" href="http://mith.umd.edu/displaying-music-notation-multiple-sources-mei-vexflow/">Final report</a></li>
								</ul>
							  </p>

								<h4>Acknowledgements</h4>

								<p>The development of the application wouldn’t have been possible without the financial 
									support of the Google Summer of Code programme and the University of Maryland that 
									hosted the MEI2VexFlow project.</p>

							</div>
							</div>
						</div>
					</article>
				</div>

		<!-- Contact -->
			<div class="wrapper wrapper-style4">
				<article id="contact" class="container small">
					<header>
						<h2>Leave feedback!</h2>
						<span>We would be happy to hear back from musicians, music scholars and generally anyone who has comments, questions, opinion, suggestions or want to share anything else related to the project!
							If you have anything to say please drop us an email at <a href="mailto:meiview.contact@gmail.com">meiview.contact@gmail.com</a></span>
					</header>
					<div>
						
						<div class="row row-special">
							<div class="12u">
								meiView is an open source software licensed under Apache 2.0. See the source code on 
								<br/>
								<a href="http://github.com/zolaemil/meiView" class="icon icon-github"><span>Github</span></a></h3>
								<ul class="social">
									<!-- <li class="github"><a href="http://github.com/zolaemil/meiView" class="icon icon-github"><span>Github</span></a></li> -->
									<!--
									<li class="rss"><a href="#" class="icon icon-rss"><span>RSS</span></a></li>
									<li class="instagram"><a href="#" class="icon icon-instagram"><span>Instagram</span></a></li>
									<li class="foursquare"><a href="#" class="icon icon-foursquare"><span>Foursquare</span></a></li>
									<li class="skype"><a href="#" class="icon icon-skype"><span>Skype</span></a></li>
									<li class="soundcloud"><a href="#" class="icon icon-soundcloud"><span>Soundcloud</span></a></li>
									<li class="youtube"><a href="#" class="icon icon-youtube"><span>YouTube</span></a></li>
									<li class="blogger"><a href="#" class="icon icon-blogger"><span>Blogger</span></a></li>
									<li class="flickr"><a href="#" class="icon icon-flickr"><span>Flickr</span></a></li>
									<li class="vimeo"><a href="#" class="icon icon-vimeo"><span>Vimeo</span></a></li>
									-->
								</ul>
							</div>
						</div>
					</div>
					<footer>
						<p id="copyright">
							Software:<a target="_blank" href="https://github.com/zolaemil/meiView">Zoltan Komives, Raffaele Viglianti</a> | Music Editing: David Lee
							<br/>
							&copy; 2013 Zoltan Komives, Raffaele Viglianti, David Lee, University of Maryland
						</p>
					</footer>
				</article>
			</div>


	</body>
</html>